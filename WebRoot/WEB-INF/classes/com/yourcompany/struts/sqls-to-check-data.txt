#1. Mismatch of Section Officer District Codes with cases and users 

select assigned_to, userid,count(*) from ecourts_case_data a inner join users b on (assigned_to=userid) where case_status='10' and a.dist_id!=b.dist_id group by assigned_to, userid

begin
update ecourts_case_data set dist_id=users.dist_id from users where assigned_to=users.userid and ecourts_case_data.case_status='10' and ecourts_case_data.dist_id!=users.dist_id
commit

select dept_name,count(*),'update ecourts_cinos_new set dept_code="" where inserted_time::date = current_date - 2 and dept_code is null and dept_name="'||dept_name||'"' from ecourts_cinos_new where inserted_time::date = current_date - 2 and dept_code is null group by dept_name order by 2 desc


#2. 
select count(*) from ecourts_case_data where barcode_file_path is not null and scanned_document_path is null
go
select cino,barcode_file_path,'uploads/scandocs/'||cino||'/'||cino||'.pdf' from ecourts_case_data where barcode_file_path is not null and scanned_document_path is null
go
select barcode_file_path, scanned_document_path from ecourts_case_data where barcode_file_path is not null and scanned_document_path is not null limit 5
go
begin
update ecourts_case_data set scanned_document_path='uploads/scandocs/'||cino||'/'||cino||'.pdf' where barcode_file_path is not null and scanned_document_path is null
commit


#Import New cases data into db

insert prayer data into nic_prayer_data table
insert respondents data into nic_resp_addr_data table

select count(*) from public.nic_resp_addr_data  where inserted_time::date=current_date 
select count(*) from nic_prayer_data where inserted_time::date=current_date 

select inserted_time ::date,count(*) from ecourts_contempt_cinos group by inserted_time ::date 

select * from ecourts_contempt_cinos limit 5

select * from ecourts_cinos_new limit 5

select cino,asreg_case,reg_no,reg_year, subnature1_desc from nic_prayer_data  where inserted_time::date=current_date limit 5

insert into ecourts_cinos_new (cino, case_type, reg_no, reg_year, dept_name) 
select cino,asreg_case, reg_no::int4, reg_year::int4, subnature1_desc from nic_prayer_data  where inserted_time::date=current_date

insert into ecourts_cinos_new (cino, case_type, reg_no, reg_year, dept_name) 
select cino, split_part(contempt_case_no,'/',1), split_part(contempt_case_no,'/',2)::int4 , split_part(contempt_case_no,'/',3)::int4, department from ecourts_contempt_cinos where inserted_time::date=current_date

select dept_name,count(*) from ecourts_cinos_new where inserted_time::date = current_date group by dept_name order by 2 desc

select dept_name,count(*),'update ecourts_cinos_new set dept_code="" where inserted_time::date = current_date and dept_name="'||dept_name||'"' from ecourts_cinos_new where inserted_time::date = current_date group by dept_name order by 2 desc
